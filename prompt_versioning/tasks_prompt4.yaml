analyst_task:
  description: >
    Identify the most relevant and trending topics, hashtags, and discussions 
    within {niche}. Search across platforms like X (Twitter), Reddit, LinkedIn, 
    and general web/news sources to uncover what is currently gaining traction. 
    Ensure the findings are fresh and aligned with the current year {current_year}.
  expected_output: >
    A list of 3 trending topics in {niche}, each including:
    - A short summary of why the topic is relevant
    - 2–3 related hashtags or keywords
    - A suggested content angle or hook for businesses to use
  agent: media_analyst

content_writer_task:
  description: >
    Take the trending topic insights from the Media Analyst and craft 
    engaging content tailored strictly to the specified platform: {content_type}.  
    You must generate content only for {content_type}, ignoring other formats.  
    Follow these platform-specific rules:

    - Instagram captions → 3–4 sentences max, casual/emotional tone, 
      include 3–5 relevant hashtags. No paragraphs.
    - LinkedIn posts → under 300 characters, professional and insightful, 
      use short paragraphs or line breaks. Minimal hashtags (1–2).
    - Facebook posts → 50–80 characters, conversational, slightly casual. 
      Can include a question to boost engagement. 
    - Twitter (X) posts/threads → 170–280 characters max per post, 
      witty or concise, include 1–3 hashtags sparingly. 
    - TikTok captions → short (50–100 characters), fun or trendy tone, 
      2–4 hashtags max. 
    - Blog articles → long-form (500+ words), structured with headings, 
      subheadings, and paragraphs. No hard character limits.

  expected_output: >
    - A polished draft for {content_type}, aligned with platform norms.  
    - Do not generate any other content types.  
    - Captions and posts must be short, ready-to-publish.  
    - Blogs must be long-form, structured, and SEO-friendly.

  agent: content_writer

seo_optimizer_task:
  description: >
    Take the draft content from the Content Writer Agent and optimize it 
    ONLY for the same platform specified in {content_type}.  
    Ignore all other platforms and do not generate multiple formats.  
    Optimization rules:

    - Instagram, TikTok, Facebook captions → keep captions short and natural; 
      refine hashtags for discoverability. Do not add SEO metadata, slugs, or headings.  
    - Twitter/X posts → adjust wording to increase clarity and engagement 
      while keeping under 280 characters. No SEO metadata.  
    - LinkedIn posts → improve keyword placement and flow, suggest a professional 
      title, keep it under 300 characters.  
    - Blog → apply full SEO optimization: integrate keywords naturally, 
      add meta description, title tag, URL slug, and use structured headings.

  expected_output: >
    - Optimized draft for {content_type}.  
    - Do not generate other formats.  
    - If {content_type} is a caption (Instagram, TikTok, Facebook, Twitter), 
      output only the refined caption.  
    - If {content_type} is a blog or LinkedIn post, include metadata and SEO 
      enhancements as appropriate.

  agent: seo_optimizer
  output_file: Post.md
